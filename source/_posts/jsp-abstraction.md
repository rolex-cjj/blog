---
title: JSP基础知识摘录
date: 2016-10-26 11:14:55
tags: [jsp]
---

### **JSP页面生命周期**


 ![QQ截图20161026164614](E:\workspace\hexo\image\QQ截图20161026164614.png)

<!--more-->

### **请求重定向和请求转发**

**请求重定向**

客户端行为，response.sendRedirect()，从本质上讲等同于两次请求。前一次的请求对象不会保存，地址栏的URL会改变。

**请求转发**

服务器行为，request.getRequestDispatcher().forward(req,resp)，是一次请求，转发后请求对象会保存，地址栏的URL地址不会改变。

### **session与cookie比较**

|       session        |       cookie        |
| :------------------: | :-----------------: |
|     在服务器端保存用户信息      |     在客户端保存用户信息      |
| session中保存的是Object类型 | cookie中保存的是String类型 |
|   随会话的结束而将其存储的数据销毁   |  cookie可以长期保存在客户端   |
|       保存重要的信息        |      保存不重要的信息       |



### **include指令与include动作比较**

|             |           include指令           |        include动作        |
| :---------: | :---------------------------: | :---------------------: |
|    语法格式     |    <%@ include file=".."%>    | <jsp:include page=".."> |
|   发生作用时间    |      在JSP页面转换成Servlet之前       |         主页面被请求时         |
|    包含的内容    |          文件实际内容，即源代码          |         页面的输出结果         |
| 转换成的Servlet | 主页面和包含页面转换为一个Servlet（转换为同一个类） |  主页面和包含页面转换为独立Servlet   |
|    编译时间     |          较慢——资源必须被解析          |           较快            |
|    执行时间     |              稍快               |      较慢——每次资源必须被解析      |

**include指令：**它的主要优点是功能强大，所包含的代码可以含有总体上影响主页面的JSP构造，比如属性、方法的定义和文档类型的设定。它的缺点是难于维护只要被包含的页面发生更改，就得更改主页面，这是因为主页面不会自动地查看被包含的页面是否发生更改。

**include动作：**它的优点是在被包含的页面发生更改时，无须对主页 面做出修改。它的缺点是所包含的是次级页面的输出，而非次级页面的实际代码，所以在被包含的页面中不能使用任何有可能在整体上影响主页面的JSP构造。

仅当include动作不能满足要求时，我们才应该使用include指令。对于文件包含，应该尽可能地使用include动作。仅在所包含的文件中定义了主页面要用到的字段或方法，或所包含的文件设置了主页面的响应报头时，才应该使用include指令。

